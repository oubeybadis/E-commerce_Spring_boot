<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
    <header th:fragment="header">

        <nav class="bg-black bg-opacity-10 border-gray-200 fixed top-0 left-0 w-full z-50 shadow-md">
            <div class="flex flex-wrap items-center justify-between mx-auto md:px-16 px-4 py-6">
                <a th:href="@{/}" class="flex items-center space-x-3 rtl:space-x-reverse">
                    <div th:replace="~{fragments/theme-logo :: theme-logo}"></div>
                </a>
                <div class="flex items-center gap-8">
                    <button id="theme-toggle" type="button"
                        class="text-white md:ml-8 dark:text-white hover:text-gray-300 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5">
                        <svg id="theme-toggle-dark-icon" class="w-6 h-6 hidden" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                        </svg>
                        <svg id="theme-toggle-light-icon" class="w-5 h-5 hidden" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                                fill-rule="evenodd" clip-rule="evenodd"></path>
                        </svg>
                    </button>
                    <div class="md:hidden">
                        <div>
                            <button
                                class="text-gray-500 md:ml-8 dark:text-gray-400 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5"
                                type="button" onclick="toggleDrawer(true)">
                                <svg class="w-8 h-8 text-white hover:text-gray-300 dark:text-white" aria-hidden="true"
                                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
                                    viewBox="0 0 24 24">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-width="2"
                                        d="M5 7h14M5 12h14M5 17h14" />
                                </svg>
                            </button>
                        </div>

                        <!-- drawer component -->
                        <div id="drawer-overlay" class="fixed inset-0 z-30 hidden bg-black bg-opacity-50"
                            onclick="toggleDrawer(false)"></div>

                        <div id="drawer-navigation"
                            class="fixed top-0 left-0 z-40 h-screen p-4 overflow-y-auto transition-transform -translate-x-full bg-white w-64 dark:bg-gray-800"
                            tabindex="-1" aria-labelledby="drawer-navigation-label">
                            <h5 id="drawer-navigation-label"
                                class="text-base font-semibold text-gray-500 uppercase dark:text-gray-400">قائمة</h5>
                            <button type="button" onclick="toggleDrawer(false)" aria-controls="drawer-navigation"
                                class="text-black hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 absolute top-2.5 right-2.5 inline-flex items-center justify-center dark:hover:bg-gray-600 dark:hover:text-white">
                                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                    fill="none" viewBox="0 0 14 14">
                                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                        stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                                </svg>
                                <span class="sr-only">Close menu</span>
                            </button>
                            <div class="py-4 overflow-y-auto">
                                <ul class="space-y-2 font-medium flex flex-col">
                                    <li>
                                        <a th:href="@{/}"
                                            class="block py-2 px-3 hover:bg-gray-100 dark:hover:bg-gray-900 rounded md:bg-transparent md:text-primary md:p-0 dark:text-white md:dark:text-[#00c8e9]"
                                            aria-current="page">الصفحة الرئيسية</a>
                                    </li>
                                    <li class="">
                                        <nav class="flex flex-col" th:if="${user != null}">
                                            <div class="flex flex-col gap-2" th:if="${user.role == 'emp_credits'}">
                                                <a th:href="@{/admin/credits/create}"
                                                    class="rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white">
                                                    لوحة التحكم
                                                </a>
                                            </div>
                                            <div class="flex flex-col gap-2" th:if="${user.role == 'emp_confermation'}">
                                                <a th:href="@{/admin/orders}"
                                                    class="rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white">
                                                    لوحة التحكم
                                                </a>
                                            </div>
                                            <div class="flex flex-col gap-2" th:if="${user.role == 'admin'}">
                                                <a th:href="@{/admin/dashboard}"
                                                    class="rounded-md px-3 hover:bg-gray-100 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white">
                                                    لوحة التحكم
                                                </a>
                                            </div>
                                            <form th:action="@{/logout}" method="post" th:if="${user != null}">
                                                <a class="rounded-md hover:bg-gray-100 px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white"
                                                    href="#"
                                                    onclick="event.preventDefault(); this.closest('form').submit();">
                                                    تسجيل الخروج
                                                </a>
                                            </form>
                                        </nav>
                                        <nav class="flex flex-col" th:if="${user == null}">
                                            <a th:href="@{/login}"
                                                class="rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white">
                                                تسجيل الدخول
                                            </a>
                                            <a th:href="@{/register}"
                                                class="rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white">
                                                تسجيل
                                            </a>
                                        </nav>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <script>
                            function toggleDrawer(show) {
                                const drawer = document.getElementById('drawer-navigation');
                                const overlay = document.getElementById('drawer-overlay');

                                if (show) {
                                    drawer.classList.remove('-translate-x-full');
                                    overlay.classList.remove('hidden');
                                } else {
                                    drawer.classList.add('-translate-x-full');
                                    overlay.classList.add('hidden');
                                }
                            }
                        </script>
                    </div>
                    <div class="hidden w-full md:block md:w-auto" id="navbar-default">
                        <ul
                            class="font-medium flex flex-col items-center p-4 md:p-0 mt-4 border border-gray-100 rounded-lg md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 dark:bg-gray-800 md:dark:bg-gray-800 dark:border-gray-700">
                            <li>
                                <a th:href="@{/}" 
                                    th:style="'color:' + ${themeSetting != null ? themeSetting.primaryColor : '#03aec9'} + ';'"
                                    class="block py-2 px-3 rounded md:bg-transparent md:p-0 text-white md:dark:text-[#00c8e9]"
                                    aria-current="page">الصفحة الرئيسية</a>
                            </li>
                            <li>
                                <nav class="-mx-3 flex flex-1 justify-end" th:if="${user != null}">
                                    <div class="flex items-center justify-center">
                                        <a th:href="@{/admin/credits/create}" th:if="${user.role == 'emp_credits'}"
                                            class="rounded-md px-3 py-2 text-white ring-1 ring-transparent transition hover:text-gray-300 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white">
                                            لوحة التحكم
                                        </a>
                                        <a th:href="@{/admin/orders}" th:if="${user.role == 'emp_confermation'}"
                                            class="rounded-md px-3 py-2 text-white ring-1 ring-transparent transition hover:text-gray-300 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white">
                                            لوحة التحكم
                                        </a>
                                        <a th:href="@{/admin/dashboard}" th:if="${user.role == 'admin'}"
                                            class="rounded-md px-3 py-2 text-white ring-1 ring-transparent transition hover:text-gray-300 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white">
                                            لوحة التحكم
                                        </a>
                                        <form th:action="@{/logout}" method="post">
                                            <a class="rounded-md px-3 py-2 text-white ring-1 ring-transparent transition hover:text-gray-300 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white"
                                                href="#"
                                                onclick="event.preventDefault(); this.closest('form').submit();">
                                                تسجيل الخروج
                                            </a>
                                        </form>
                                    </div>
                                </nav>
                                <nav class="-mx-3 flex flex-1 justify-end" th:if="${user == null}">
                                    <a th:href="@{/login}"
                                        class="rounded-md px-3 py-2 text-white ring-1 ring-transparent transition hover:text-gray-300 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white">
                                        تسجيل الدخول
                                    </a>
                                    <a th:href="@{/register}"
                                        class="rounded-md px-3 py-2 text-white ring-1 ring-transparent transition hover:text-gray-300 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white">
                                        تسجيل
                                    </a>
                                </nav>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
    </header>
</body>
</html>

